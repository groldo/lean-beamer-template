%
% minimalistic progressbar
%

\makeatletter
\def\progressbar@progressbar{} % the progress bar

\newlength{\progressbar@height}
\setlength{\progressbar@height}{0.8pt}
\newlength{\progressbar@progress}

\def\progressbar@progressbar[#1][#2](#3,#4){%
    % No draw if there is only one slide
    \ifnum\inserttotalframenumber=1
    \else
        \setlength{\progressbar@progress}{
                \textwidth * \ratio{\insertframenumber pt}{\inserttotalframenumber pt}
                }%
        \begin{tikzpicture}
                \fill[#3] (0,0) rectangle (#1, #2);
                \fill[#4] (0,0) rectangle (\progressbar@progress, #2);
        \end{tikzpicture}%
    \fi
    }
